"use strict";(self.webpackChunkithanku=self.webpackChunkithanku||[]).push([[701],{7701:function(e,r,n){n.r(r),n.d(r,{default:function(){return S}});var i=n(1413),t=n(4695),s=n(4162),o=n(6582),a=n(1091),l=n(4565),d=n(5953),u=n(5017),c=n(9276),x=n(301),h=n(3664),m=n(3578),f=n(9195),p=n(9230),g=n(1933),Z=n(7689),j=n(2797),b=n(4165),w=n(5861),v=n(8907),k=function(){var e=(0,w.Z)((0,b.Z)().mark((function e(r){return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.c)("/auth/signup","POST",r));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),C=n(4684),y=n(184),S=function(){var e=j.Ry().shape({name:j.Z_().required(),email:j.Z_().required(),password:j.Z_().required().min(8,"Must be at lease 8 symbols"),passwordConfirm:j.Z_().oneOf([j.iH("password"),null],"Passwords does not match").required()}),r=(0,Z.s0)(),n=(0,p.$G)(),b=n.t,w=n.i18n,v=function(e){w.changeLanguage(e)},S=(0,f.cI)({defaultValues:{name:"",email:"",password:"",passwordConfirm:""},resolver:(0,t.X)(e)}),q=S.control,I=S.handleSubmit,P=S.formState.errors,T=(0,g.useMutation)((function(e){return k(e)})),W=(0,h.E)(),L=W.setCheckAuth,Q=W.setUserInfo;return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(s.Z,{justifyContent:"center",alignItems:"center",height:"100vh",width:1,sx:{background:" linear-gradient(45deg, rgba(140,17,193,1) 0%, rgba(68,63,224,1) 47%, rgba(17,171,203,1) 100%)"},children:[(0,y.jsx)(c.Z,{component:"img",src:C,sx:{width:100,mb:5}}),(0,y.jsxs)(s.Z,{justifyContent:"center",width:1,alignItems:"center",spacing:2,sx:{background:"background",maxWidth:{lg:"400px",xs:"300px"},borderRadius:1,p:"20px 20px 50px 20px"},children:[(0,y.jsx)(s.Z,{children:(0,y.jsxs)(o.Z,{size:"small",children:[(0,y.jsx)(a.Z,{variant:"en"===localStorage.getItem("i18nextLng")?"contained":"outlined",onClick:function(e){return v("en")},children:"EN"}),(0,y.jsx)(a.Z,{variant:"ru"===localStorage.getItem("i18nextLng")?"contained":"outlined",onClick:function(e){return v("ru")},children:"RU"})]})}),(0,y.jsxs)(l.Z,{variant:"h1",children:[" ",b("login.registration")]}),(0,y.jsx)(c.Z,{sx:{width:"100%"},children:(0,y.jsx)("form",{onSubmit:I((function(e){T.mutate(e,{onSuccess:function(e){(0,m.zI)(e.refreshToken),(0,x.M)(e.accessToken),L(e.accessToken);var n=e.user;Q(n),L(e.refreshToken),"user"===n.role&&r("/main"),"Admin"===n.role&&r("/quizlist"),"Super"===n.role&&r("/adminlist")}})})),children:(0,y.jsxs)(s.Z,{direction:"column",children:[(0,y.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,y.jsx)(d.ZP,{item:!0,xs:12,lg:12,children:(0,y.jsx)(f.Qr,{control:q,name:"name",render:function(e){var r=e.field;return(0,y.jsx)(u.Z,(0,i.Z)({fullWidth:!0,label:b("login.fullName"),type:"text",required:!0,error:!!P.name},r))}})}),(0,y.jsx)(d.ZP,{item:!0,xs:12,children:(0,y.jsx)(f.Qr,{control:q,name:"email",render:function(e){var r=e.field;return(0,y.jsx)(u.Z,(0,i.Z)({fullWidth:!0,label:b("login.email"),type:"text",required:!0,error:!!P.email},r))}})}),(0,y.jsx)(d.ZP,{item:!0,xs:12,lg:6,children:(0,y.jsx)(f.Qr,{control:q,name:"password",render:function(e){var r=e.field,n=e.fieldState.error;return(0,y.jsx)(u.Z,(0,i.Z)((0,i.Z)({fullWidth:!0,label:b("login.password"),type:"password",required:!0,error:!!P.password},r),{},{helperText:null===n||void 0===n?void 0:n.message}))}})}),(0,y.jsx)(d.ZP,{item:!0,xs:12,lg:6,children:(0,y.jsx)(f.Qr,{control:q,name:"passwordConfirm",render:function(e){var r=e.field,n=e.fieldState.error;return(0,y.jsx)(u.Z,(0,i.Z)((0,i.Z)({fullWidth:!0,label:b("login.rpassword"),type:"password",required:!0,error:!!P.passwordConfirm},r),{},{helperText:null===n||void 0===n?void 0:n.message}))}})})]}),(0,y.jsxs)(s.Z,{direction:"row",mt:2,gap:1,children:[(0,y.jsx)(a.Z,{fullWidth:!0,type:"submit",disabled:T.isLoading,children:b("login.submit")}),(0,y.jsx)(a.Z,{onClick:function(){return r("/")},fullWidth:!0,variant:"text",color:"secondary",children:b("login.login")})]})]})})})]})]})})}},4684:function(e,r,n){e.exports=n.p+"static/media/logo.e6b0f3e96d6a3819c2e2.png"}}]);
//# sourceMappingURL=701.9acd89c2.chunk.js.map